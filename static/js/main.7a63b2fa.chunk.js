(this.webpackJsonpkrishi=this.webpackJsonpkrishi||[]).push([[0],{228:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},511:function(e,t,a){},545:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(56),c=a.n(r),i=(a(335),a(336),a(29)),o=a(18),s=a(597),l=a(0),u=a.n(l),d=a(2),j="REGISTER_FAILED",h="REGISTER_SUCCESS",b="REGISTER_REQUEST",g="SIGN_IN_FAILED",O="SIGN_IN_SUCCESS",p="SIGN_REQUEST",f="SIGN_OUT",x="REMOVE_ERROR",m="FETCH_DATA_SUCCESS",v="FETCH_DATA_REQUEST",y="FETCH_DATA_FAILURE",w="SET_DATA",S=a(300),F=a.n(S),E=function(){var e=JSON.parse(localStorage.getItem("userdata"));return console.log("LS",e),e?{type:w,payload:e}:{type:w,payload:[]}},_=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t,a,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.getFirbase,n.getFirestore,t({type:v}),e.prev=2,e.next=5,F.a.get("https://thekrishi.com/test/mandi?lat=28.44108136&lon=77.0526054&ver=89&lang=hi&crop_id=10");case 5:r=e.sent,c=r.data,localStorage.setItem("userdata",JSON.stringify(c.data.other_mandi)),t((i=c.data.other_mandi,{type:m,payload:i})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),t((a=e.t0,{type:y,payload:a}));case 14:case"end":return e.stop()}var a,i}),e,null,[[2,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},C=a(43),k=a(600),D=a(604),I=a(603),R=a(598),T=a(601),A=a(602),L=a(599),W=(a(228),a(5));var N=Object(C.b)((function(e){return{data:e.api_data.data,auth:e.auth}}),(function(e){return{putData:function(){return e(_())},setData:function(){return e(E())}}}))((function(e){console.log(e.data.length);var t=Object(n.useState)(e.data),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){e.setData()}),[]),Object(n.useEffect)((function(){c(e.data)}),[e]),Object(W.jsxs)("div",{className:"data-container",children:[Object(W.jsx)(s.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"},variant:"contained",onClick:function(){e.putData()},children:"FetchNormal"}),console.log(r.length),0==r.length?Object(W.jsx)(W.Fragment,{}):Object(W.jsx)(R.a,{component:L.a,children:Object(W.jsxs)(k.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(W.jsx)(T.a,{children:Object(W.jsxs)(A.a,{children:[Object(W.jsx)(I.a,{align:"right",children:"District"}),Object(W.jsx)(I.a,{align:"right",children:"State"}),Object(W.jsx)(I.a,{align:"right",children:"KM"}),Object(W.jsx)(I.a,{align:"right",children:"Latitude"}),Object(W.jsx)(I.a,{align:"right",children:"Longitude"})]})}),Object(W.jsx)(D.a,{children:r.map((function(e){return Object(W.jsxs)(A.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(W.jsx)(I.a,{component:"th",scope:"row",align:"right",children:e.district}),Object(W.jsx)(I.a,{align:"right",children:e.state}),Object(W.jsx)(I.a,{align:"right",children:e.km}),Object(W.jsx)(I.a,{align:"right",children:e.lat}),Object(W.jsx)(I.a,{align:"right",children:e.lng})]},e.id)}))})]})})]})}));var P=Object(C.b)((function(e){return{data:e.api_data.data,auth:e.firebase.auth}}),(function(e){return{putData:function(){return e(_())},setData:function(){return e(E())}}}))((function(e){console.log(e.data.length);var t=Object(n.useState)(e.data),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){e.setData()}),[]),Object(n.useEffect)((function(){c(e.data)}),[e]),Object(W.jsxs)("div",{className:"data-container",children:[Object(W.jsx)(s.a,{style:{display:"block",marginLeft:"auto",marginRight:"auto"},variant:"contained",onClick:function(){e.putData()},children:"FetchWithAuth"}),console.log(r.length),0==r.length?Object(W.jsx)(W.Fragment,{}):Object(W.jsx)(R.a,{component:L.a,children:Object(W.jsxs)(k.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(W.jsx)(T.a,{children:Object(W.jsxs)(A.a,{children:[Object(W.jsx)(I.a,{align:"right",children:"District"}),Object(W.jsx)(I.a,{align:"right",children:"State"}),Object(W.jsx)(I.a,{align:"right",children:"KM"}),Object(W.jsx)(I.a,{align:"right",children:"Latitude"}),Object(W.jsx)(I.a,{align:"right",children:"Longitude"})]})}),Object(W.jsx)(D.a,{children:r.map((function(e){return Object(W.jsxs)(A.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(W.jsx)(I.a,{component:"th",scope:"row",align:"right",children:e.district}),Object(W.jsx)(I.a,{align:"right",children:e.state}),Object(W.jsx)(I.a,{align:"right",children:e.km}),Object(W.jsx)(I.a,{align:"right",children:e.lat}),Object(W.jsx)(I.a,{align:"right",children:e.lng})]},e.id)}))})]})})]})})),M=a(28),U=a(305),G=a(51),z=["component"];var H=Object(C.b)((function(e){return{authFirebase:e.firebase.auth}}),(function(e){return{}}))((function(e){var t=e.component,a=Object(U.a)(e,z);return console.log("PR",a.authFirebase),Object(W.jsx)(i.b,Object(M.a)(Object(M.a)({},a),{},{render:function(e){var n=e.props;return Object(G.isLoaded)(a.authFirebase)&&!Object(G.isEmpty)(a.authFirebase)?Object(W.jsx)(t,Object(M.a)({},n)):Object(W.jsx)(i.a,{to:"/fetch_with_auth"})}}))})),Q=a(594),q=a(587),J=a(590),B=a(608),K=a(595),V=a(606),Z=a(154),X=a.n(Z),Y=a(607),$=a(605),ee=a(592),te=a(304),ae=a(596),ne=function(e){return{type:j,error:e}},re=Object(te.a)();var ce=Object(C.b)((function(e){return{auth:e.auth}}),(function(e){return{register:function(t){return e(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a,n,r){var c,i,o,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=r.getFirebase,i=r.getFirestore,a({type:b}),o=c(),s=i(),console.log(e),o.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.collection("user").doc(o.auth.uid).set({email:e.email,password:e.password,gender:e.gender});case 2:a((r=n.user.uid,{type:h,payload:r}));case 3:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){a(ne(e)),setTimeout((function(){a({type:x})}),2e3)}));case 6:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(n.useState)("Male"),a=Object(o.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),d=u[0],j=u[1],h=Object(n.useState)(""),b=Object(o.a)(h,2),g=b[0],O=b[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),x=f[0],m=f[1],v=Object(i.g)();return Object(n.useEffect)((function(){null!=e.auth.user&&v.push("/fetch_normal")}),[e.auth]),Object(W.jsx)(ae.a,{theme:re,children:Object(W.jsxs)($.a,{component:"main",maxWidth:"xs",children:[Object(W.jsx)(q.a,{}),Object(W.jsxs)(V.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(W.jsx)(Q.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(W.jsx)(X.a,{})}),Object(W.jsx)(Y.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(W.jsxs)(V.a,{component:"form",noValidate:!0,sx:{mt:1},children:[Object(W.jsx)(J.a,{margin:"normal",value:d,required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){j(e.target.value)},autoFocus:!0}),Object(W.jsx)(J.a,{margin:"normal",value:g,required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){O(e.target.value)},autoComplete:"current-password"}),Object(W.jsx)(J.a,{margin:"normal",value:x,required:!0,fullWidth:!0,name:"Confirm Password",label:"Confirm Password",type:"password",id:"password",onChange:function(e){m(e.target.value)},autoComplete:"current-password"}),Object(W.jsxs)(J.a,{id:"outlined-select-currency",select:!0,label:"Select",value:r,onChange:function(e){c(e.target.value)},helperText:"Please select your currency",children:[Object(W.jsx)(ee.a,{value:"Male",children:"Male"}),Object(W.jsx)(ee.a,{value:"Female",children:"Female"})]}),Object(W.jsx)(s.a,{fullWidth:!0,variant:"contained",onClick:function(t){console.log(e.register),g===x?e.register({email:d,password:g,gender:r}):alert("confirm password and password are not same")},sx:{mt:3,mb:2},children:"Sign up"}),Object(W.jsx)(K.a,{container:!0,children:Object(W.jsx)(K.a,{item:!0,xs:!0,children:Object(W.jsx)(B.a,{href:"/login",variant:"body2",children:"Already have an account?"})})})]})]})]})})}));var ie=function(){return Object(W.jsx)("div",{children:Object(W.jsx)("h1",{children:"Home Page"})})},oe=a(6),se=a(60);a(511);function le(e){return Object(W.jsxs)("ul",{className:"logged-out",children:[Object(W.jsx)("li",{children:Object(W.jsx)(se.b,{style:{textDecoration:"none"},to:"/signup",children:"Signup"})}),Object(W.jsx)("li",{children:Object(W.jsx)(se.b,{style:{textDecoration:"none"},to:"/login",children:"Login"})})]})}var ue=Object(C.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{signOut:function(){return e((console.log("heeloo"),function(){var e=Object(d.a)(u.a.mark((function e(t,a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.getFirebase,n.getFirestore,r().auth().signOut().then((function(){t({type:f})}));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()))}}}))((function(e){var t,a;return Object(W.jsxs)("div",{className:"nav",children:[Object(W.jsx)(se.b,{style:{width:"10%",fontSize:"35px",marginLeft:"10px",textDecoration:"none"},to:"/",children:"Home"}),Object(W.jsx)(se.b,{style:(t={width:"10%",fontSize:"25px",padding:"5px",backgroundColor:"rgb(224, 211, 211)"},Object(oe.a)(t,"width","20%"),Object(oe.a)(t,"borderRadius","5px"),Object(oe.a)(t,"textAlign","center"),Object(oe.a)(t,"textDecoration","none"),t),to:"fetch_normal",children:"Fetch Normal"}),Object(G.isLoaded)(e.auth)&&!Object(G.isEmpty)(e.auth)?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(se.b,{style:(a={width:"10%",fontSize:"25px",padding:"5px",backgroundColor:"rgb(224, 211, 211)"},Object(oe.a)(a,"width","20%"),Object(oe.a)(a,"borderRadius","5px"),Object(oe.a)(a,"textAlign","center"),Object(oe.a)(a,"textDecoration","none"),a),to:"/fetch_with_auth",children:"FetchWithAuth"}),Object(W.jsx)(s.a,{style:{backgroundColor:"rgb(224, 211, 211)",marginRight:"20px"},variant:"outlined",onClick:function(){return e.signOut()},children:"Signout"})]}):Object(W.jsx)(le,{})]})})),de=Object(te.a)();var je=Object(C.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{login:function(t){return e(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a,n,r){var c,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("hello"),console.log(r),c=r.getFirebase,r.getFirestore,a({type:p}),console.log(c),i=c(),t.prev=6,t.next=9,i.auth().signInWithEmailAndPassword(e.email,e.password);case 9:t.sent,a({type:O}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),a((n=t.t0,{type:g,error:n})),setTimeout((function(){a({type:x})}),2e3);case 17:case"end":return t.stop()}var n}),t,null,[[6,13]])})));return function(e,a,n){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(i.g)(),a=Object(n.useState)(""),r=Object(o.a)(a,2),c=r[0],l=r[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),j=d[0],h=d[1];return Object(n.useEffect)((function(){var a;(null===(a=e.auth)||void 0===a?void 0:a.uid)&&t.push("/")}),[e]),Object(W.jsx)(ae.a,{theme:de,children:Object(W.jsxs)($.a,{component:"main",maxWidth:"xs",children:[Object(W.jsx)(q.a,{}),Object(W.jsxs)(V.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(W.jsx)(Q.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(W.jsx)(X.a,{})}),Object(W.jsx)(Y.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(W.jsxs)(V.a,{noValidate:!0,sx:{mt:1},children:[Object(W.jsx)(J.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return l(e.target.value)},autoFocus:!0}),Object(W.jsx)(J.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){return h(e.target.value)},autoComplete:"current-password"}),Object(W.jsx)(s.a,{type:"submit",fullWidth:!0,variant:"contained",onClick:function(t){e.login({email:c,password:j})},sx:{mt:3,mb:2},children:"Sign In"}),Object(W.jsx)(K.a,{container:!0,children:Object(W.jsx)(K.a,{item:!0,children:Object(W.jsx)(B.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]})})}));var he=function(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ue,{}),Object(W.jsxs)(i.d,{children:[Object(W.jsx)(i.b,{exact:!0,path:"/",component:ie}),Object(W.jsx)(i.b,{path:"/signup",component:ce}),Object(W.jsx)(i.b,{path:"/login",component:je}),Object(W.jsx)(i.b,{path:"/fetch_normal",component:N}),Object(W.jsx)(H,{path:"/fetch_with_auth",component:P})]})]})},be=a(119),ge=(a(547),a(512),a(96)),Oe=a(95);var pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe.api_data,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(M.a)(Object(M.a)({},e),{},{loading:!0});case m:return Object(M.a)(Object(M.a)({},e),{},{loading:!1,data:t.payload});case y:return Object(M.a)(Object(M.a)({},e),{},{loading:!1,error:t.payload});case w:return Object(M.a)(Object(M.a)({},e),{},{data:t.payload});default:return e}},fe=a(79),xe=Object(ge.combineReducers)({firestore:fe.firestoreReducer,firebase:G.firebaseReducer,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe.auth,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case j:return Object(M.a)(Object(M.a)({},e),{},{loading:!1,error:t.error});case p:case b:return Object(M.a)(Object(M.a)({},e),{},{loading:!0});case O:return Object(M.a)(Object(M.a)({},e),{},{loading:!1});case h:return Object(M.a)(Object(M.a)({},e),{},{loading:!1,user:t.payload});default:return e}},api_data:pe}),me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;return t.type===f&&(e=void 0),xe(e,t)},ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,609)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},ye=a(302),we=a(303),Se={apiKey:"AIzaSyCSMi2D_IZUzhQwhHaFmtQgrM-iTPvMSQM",authDomain:"krishi-221e1.firebaseapp.com",projectId:"krishi-221e1",storageBucket:"krishi-221e1.appspot.com",messagingSenderId:"355532993472",appId:"1:355532993472:web:8ff9e18482bd75e6ed4e25"};be.a.initializeApp(Se),be.a.firestore();var Fe=Object(ge.createStore)(me,Object(ye.composeWithDevTools)(Object(ge.applyMiddleware)(we.a.withExtraArgument({getFirebase:G.getFirebase,getFirestore:fe.getFirestore})),Object(fe.reduxFirestore)(be.a)));c.a.render(Object(W.jsx)(C.a,{store:Fe,children:Object(W.jsx)(se.a,{children:Object(W.jsx)(G.ReactReduxFirebaseProvider,{firebase:be.a,config:Se,dispatch:Fe.dispatch,createFirestoreInstance:fe.createFirestoreInstance,children:Object(W.jsx)(he,{})})})}),document.getElementById("root")),ve()},95:function(e){e.exports=JSON.parse('{"api_data":{"loading":false,"data":[],"error":""},"auth":{"user":null,"loading":false,"error":""}}')}},[[545,1,2]]]);
//# sourceMappingURL=main.7a63b2fa.chunk.js.map